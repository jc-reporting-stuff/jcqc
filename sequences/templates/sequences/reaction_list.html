{% extends '_base.html' %}

{% block title %}{{ user.username }}'s Sequences{% endblock %}

{% block content %}

<h1 class="centered">Sequencing reactions for {{ user.username }}</h1>

{% if reactions %}
    <table class="oligo-view">
        <tr>
            <th>Submission ID</th>
            <th>Sequence ID</th>
            <th>Template</th>
            <th>Primer</th>
            <th>Status</th>
            <th>Submission Date</th>
            <th>Download</th>

        </tr>
        {% for reaction in reactions %}
            <tr>
                <td><a href="{% url 'sequencing:submission_detail' reaction.submission_id %}">{{ reaction.submission_id }}</a></td>
                <td>{{ reaction.id }}</td>
                <td style="text-align: left;"><a href="{% url 'sequencing:template_detail' reaction.template.id %}">{{ reaction.template }}</td>
                <td style="text-align: left;"><a href="{% url 'sequencing:primer_detail' reaction.primer.id %}">{{ reaction.primer }}</a></td>
                <td>{{ reaction.get_status_display }}</td>
                <td>{{ reaction.submit_date }}</td>
                <td>
                    {% if reaction.status == 'd' %}
                        <a href="{% url 'sequencing:sequence_download' %}?username={{ user.username}}&filename={{ reaction.get_filename }}&type=ab1">Trace</a>
                        <a href="{% url 'sequencing:sequence_download' %}?username={{ user.username}}&filename={{ reaction.get_filename }}&type=seq">Text</a>
                    {% else %}
                        Not available
                    {% endif %}
                </td>

            </tr>
        {% endfor %}
    </table>

{% else %}

    <p>Nothing here!</p>

{% endif %}

{% endblock content %}